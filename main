#include <iostream>
#include <string.h>
#include <stdlib.h>

using namespace std;

int main(){
    int risposta;
    bool avanti=true;
    string chiaro,ultimochiaro="",criptato="",ultimocriptato="",decriptato="",ultimodecriptato="";
    int i,k;
    char alfabeto[26]={'a','b','c','d','e','f','g','h','i','j','k','l','m','n','o','p','q','r','s','t','u','v','w','x','y','z'};
    string messaggio,parolacriptata;
    do{
    cout<<"1 Inserire messaggio in chiaro:"<<endl;
    cout<<"2 Visualizza ultimo messaggio in chiaro:"<<endl;
    cout<<"3 Visualizza ultimo messaggio criptato:"<<endl;
    cout<<"4 Visualizza ultimo messaggio decriptato:"<<endl;
    cout<<"5 Termina"<<endl;
    cin>>risposta;

        switch(risposta){

                case 1:
                    cin>>messaggio;
                    chiaro=messaggio;

                      for(i=0;i<messaggio.length();i++){  //4 volte parola ciao
                        for(k=0;k<26;k++){
                            if(messaggio[i]==alfabeto[k]){

                                  if(alfabeto[k]=='z'){
                                      parolacriptata[i]='c';
                                      break;
                                  }
                                  else if(alfabeto[k]=='y'){
                                      parolacriptata[i]='b';
                                      break;
                                  }
                                  else if(alfabeto[k]=='x'){
                                      parolacriptata[i]='a';
                                      break;
                                  }
                                  else{
                                      parolacriptata[i]=alfabeto[k]+3;
                                      }

                              }
                          }
                          criptato=criptato+parolacriptata[i];
                        }
                        cout<<criptato<<endl;
                        ultimocriptato=criptato;
                        criptato="";
                        ultimochiaro=chiaro;
                        chiaro="";
                        break;
                case 2:
                    if(ultimochiaro.empty()==true){
                        cout<<"Non è ancora stato inserito un messaggio"<<endl;

                    }
                    else{

                    }

                    break;
                case 3:
                     if(ultimocriptato.empty()==true){
                        cout<<"Non è ancora stato inserito un messaggio da criptare"<<endl;

                    }
                    else{
                        cout<<"L'ultimo messaggio criptato e'"<<ultimocriptato<<endl;
                    }

                    break;
                case 4:
                      if(ultimodecriptato.empty()==true){
                        cout<<"Non è ancora stato inserito un messaggio da decriptare"<<endl;

                    }
                    else{

                    }

                    break;
                case 5:

                    avanti=false;
                    break;
            }
    }while(avanti==true);
}
